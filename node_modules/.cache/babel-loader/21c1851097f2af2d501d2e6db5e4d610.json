{"ast":null,"code":"import _toConsumableArray from\"C:/Users/hamma/Desktop/CopyOfWindowPopUP/Automation/automatter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"C:/Users/hamma/Desktop/CopyOfWindowPopUP/Automation/automatter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/hamma/Desktop/CopyOfWindowPopUP/Automation/automatter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/hamma/Desktop/CopyOfWindowPopUP/Automation/automatter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/*global chrome*/import{useState,Text,useEffect}from\"react\";import\"./App.css\";import ReactDOM from\"react-dom\";import React from\"react\";import{makeStyles}from'@material-ui/core/styles';import InputLabel from'@material-ui/core/InputLabel';import MenuItem from'@material-ui/core/MenuItem';import FormControl from'@material-ui/core/FormControl';import Select from'@material-ui/core/Select';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ws=new WebSocket(\"ws://localhost:8082\");var useStyles=makeStyles(function(theme){return{button:{display:'block',marginTop:theme.spacing(1)},formControl:{margin:theme.spacing(1),minWidth:120}};});var ControlledOpenSelect=function ControlledOpenSelect(_ref){var Dictionary=_ref.Dictionary,SelectedUIControl=_ref.SelectedUIControl,Setter=_ref.Setter,options=_ref.options;var classes=useStyles();var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),age=_React$useState2[0],setAge=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),open=_React$useState4[0],setOpen=_React$useState4[1];var handleChange=function handleChange(event){Setter(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},SelectedUIControl,event.target.value));});setAge(event.target.value);};var handleClose=function handleClose(){setOpen(false);};var handleOpen=function handleOpen(){setOpen(true);};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(FormControl,{className:classes.formControl,children:/*#__PURE__*/_jsxs(Select,{labelId:\"demo-controlled-open-select-label\",id:\"demo-controlled-open-select\",open:open,onClose:handleClose,onOpen:handleOpen,value:Dictionary[SelectedUIControl]?Dictionary[SelectedUIControl]:age,onChange:handleChange,children:[/*#__PURE__*/_jsx(MenuItem,{value:\"\",children:/*#__PURE__*/_jsx(\"em\",{children:\"None\"})}),Object.values(options).map(function(item,index){return/*#__PURE__*/_jsx(MenuItem,{value:item,children:item},index);})]})})});};function App(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),SupportedDataTypes=_useState2[0],setSupportedDataTypes=_useState2[1];var _useState3=useState([//     \"Tagname - INPUT\"+\"\\n\"+\n//    \"lightning-input_input -\"+\"\\n\"+\n//     \"type - text\"+\"\\n\"+\n//     \"id - input-233\"+\"\\n\"+\n//    \"aria-invalid - false\"+\"\\n\"+\n//     \"maxlength - 40\"+\"\\n\"+\n//    \"placeholder - First Name\"+\"\\n\"+\n//     \"name - firstName\"+\"\\n\"+\n//     \"class - slds-input\"+\"\\n\",\n// \"Tagname - INPUT\"+\"\\n\"+\n// \"lightning-input_input -\"+\"\\n\"+\n// \"type - text\"+\"\\n\"+\n// \"id - input-236\"+\"\\n\"+\n// \"aria-invalid - false\"+\"\\n\"+\n// \"maxlength - 40\"+\"\\n\"+\n// \"placeholder - Suffix\"+\"\\n\"+\n// \"name - suffix\"+\"\\n\"+\n// \"class - slds-input\"+\"\\n\"\n]),_useState4=_slicedToArray(_useState3,2),clickStream=_useState4[0],setClickStream=_useState4[1];var allowedAttributes=[\"Tagname\",\"type\",\"id\",\"name\",\"class\",\"title\",\"placeholder\",\"cols\",\"rows\",\"role\",\"maxlength\",\"href\",\"data-aura-rendered-by\",\"focusable\"];var _useState5=useState(\"Pause\"),_useState6=_slicedToArray(_useState5,2),pauseResume=_useState6[0],setPauseResume=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showSaveButton=_useState8[0],setShowSaveButton=_useState8[1];var _useState9=useState({}),_useState10=_slicedToArray(_useState9,2),SequenceAndMapping=_useState10[0],setSequenceAndMapping=_useState10[1];useEffect(function(){ws.addEventListener(\"open\",function(e){ws.send(JSON.stringify(\"DataTypes\"));});ws.addEventListener(\"message\",function(message){setSupportedDataTypes(JSON.parse(message.data));});},[]);chrome.runtime.onMessage.addListener(function(request,sender,sendResponse){console.log(request);setClickStream([].concat(_toConsumableArray(clickStream),[request.elementDetected]));sendResponse(\"I have received your message\");});var SiteTabId;var sendMessageToContentScript=function sendMessageToContentScript(ToDO){if(ToDO==\"Pause\"){setPauseResume(\"Resume\");}else if(ToDO==\"Resume\"){setPauseResume(\"Pause\");}else if(ToDO==\"Stop\"){setShowSaveButton(true);}chrome.tabs.query({active:true},function(tabs){SiteTabId=tabs[0].id;chrome.tabs.sendMessage(SiteTabId,{Recording:ToDO},function(response){console.log(response);});});};var SaveTheSequenceAndMapping=function SaveTheSequenceAndMapping(){var keys=[];for(var k in SequenceAndMapping){keys.push(k);}var mask=clickStream.map(function(item){return keys.includes(item);});var NotMapped=clickStream.filter(function(item,i){return!mask[i];});NotMapped.forEach(function(element){SequenceAndMapping[element]=\"\";});console.log(SequenceAndMapping);ws.addEventListener(\"open\",function(e){ws.send(JSON.stringify(SequenceAndMapping));});};function RenderItem(props){var text=props.text;var eachLine=text.split(\"\\n\");var FINAL_TEXT=\"\";eachLine.forEach(function(element){var attribute=element.split(\"-\")[0];// console.log(attribute)\nif(allowedAttributes.includes(attribute.replace(/ /g,\"\"))){FINAL_TEXT=FINAL_TEXT+element+\"\\n\";}});return/*#__PURE__*/_jsx(\"div\",{id:\"item\",children:FINAL_TEXT});}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{id:\"Start\",onClick:function onClick(){return sendMessageToContentScript('Start');},children:\"Start\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{id:\"Pause\",onClick:function onClick(){return sendMessageToContentScript(pauseResume);},children:pauseResume}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{id:\"Resume\",onClick:function onClick(){return sendMessageToContentScript('Stop');},children:\"Stop\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"ul\",{children:clickStream.map(function(name,index){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(RenderItem,{text:name}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(ControlledOpenSelect,{Dictionary:SequenceAndMapping,SelectedUIControl:name,Setter:setSequenceAndMapping,options:SupportedDataTypes}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"br\",{})]},index);})}),showSaveButton?/*#__PURE__*/_jsx(\"button\",{id:\"Save\",onClick:SaveTheSequenceAndMapping,children:\"Save\"}):/*#__PURE__*/_jsx(\"div\",{})]})});}export default App;","map":{"version":3,"sources":["C:/Users/hamma/Desktop/CopyOfWindowPopUP/Automation/automatter/src/App.js"],"names":["useState","Text","useEffect","ReactDOM","React","makeStyles","InputLabel","MenuItem","FormControl","Select","ws","WebSocket","useStyles","theme","button","display","marginTop","spacing","formControl","margin","minWidth","ControlledOpenSelect","Dictionary","SelectedUIControl","Setter","options","classes","age","setAge","open","setOpen","handleChange","event","prevState","target","value","handleClose","handleOpen","Object","values","map","item","index","App","SupportedDataTypes","setSupportedDataTypes","clickStream","setClickStream","allowedAttributes","pauseResume","setPauseResume","showSaveButton","setShowSaveButton","SequenceAndMapping","setSequenceAndMapping","addEventListener","e","send","JSON","stringify","message","parse","data","chrome","runtime","onMessage","addListener","request","sender","sendResponse","console","log","elementDetected","SiteTabId","sendMessageToContentScript","ToDO","tabs","query","active","id","sendMessage","Recording","response","SaveTheSequenceAndMapping","keys","k","push","mask","includes","NotMapped","filter","i","forEach","element","RenderItem","props","text","eachLine","split","FINAL_TEXT","attribute","replace","name"],"mappings":"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","sourcesContent":["    /*global chrome*/\n\nimport { useState, Text, useEffect } from \"react\";\nimport \"./App.css\"\nimport ReactDOM from \"react-dom\";\nimport React from \"react\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nconst ws = new WebSocket(\"ws://localhost:8082\")\n\n\n\nconst useStyles = makeStyles((theme) => ({\n  button: {\n    display: 'block',\n    marginTop: theme.spacing(1),\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n}));\n\nconst ControlledOpenSelect = ({Dictionary,SelectedUIControl, Setter, options}) => {\n  const classes = useStyles();\n  const [age, setAge] = React.useState('');\n  const [open, setOpen] = React.useState(false);\n  \n  const handleChange = (event) => {\n\n    Setter(prevState => ({\n          ...prevState,\n          [SelectedUIControl]:event.target.value \n      }));\n\n\n    setAge(event.target.value);\n\n\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n\n  };\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  return (\n    <div>\n      <FormControl className={classes.formControl}>\n        <Select\n          labelId=\"demo-controlled-open-select-label\"\n          id=\"demo-controlled-open-select\"\n          open={open}\n          onClose={handleClose}\n          onOpen={handleOpen}\n          value={Dictionary[SelectedUIControl]? Dictionary[SelectedUIControl] : age}\n          onChange={handleChange}\n        >\n          \n          <MenuItem value=\"\">\n            <em>None</em>\n          </MenuItem>\n          {Object.values(options).map((item,index) => (\n\n          <MenuItem key={ index } value={item}>{item}</MenuItem>\n\n          ))}\n        </Select>\n      </FormControl>\n    </div>\n  );\n};\n  \nfunction App() {\n\n\n  const [SupportedDataTypes,setSupportedDataTypes] = useState({})\n\n  const [clickStream, setClickStream] = useState([\n//     \"Tagname - INPUT\"+\"\\n\"+\n//    \"lightning-input_input -\"+\"\\n\"+\n//     \"type - text\"+\"\\n\"+\n//     \"id - input-233\"+\"\\n\"+\n//    \"aria-invalid - false\"+\"\\n\"+\n//     \"maxlength - 40\"+\"\\n\"+\n//    \"placeholder - First Name\"+\"\\n\"+\n//     \"name - firstName\"+\"\\n\"+\n//     \"class - slds-input\"+\"\\n\",\n\n// \"Tagname - INPUT\"+\"\\n\"+\n// \"lightning-input_input -\"+\"\\n\"+\n// \"type - text\"+\"\\n\"+\n// \"id - input-236\"+\"\\n\"+\n// \"aria-invalid - false\"+\"\\n\"+\n// \"maxlength - 40\"+\"\\n\"+\n// \"placeholder - Suffix\"+\"\\n\"+\n// \"name - suffix\"+\"\\n\"+\n// \"class - slds-input\"+\"\\n\"\n\n\n\n  ]);\n  const allowedAttributes = [\"Tagname\",\"type\",\"id\",\"name\",\"class\",\"title\",\"placeholder\", \"cols\", \"rows\", \"role\", \"maxlength\", \"href\", \"data-aura-rendered-by\", \"focusable\"]\n\n\n  const [pauseResume, setPauseResume] = useState(\"Pause\");\n  const [showSaveButton, setShowSaveButton] = useState(false);\n  const [SequenceAndMapping, setSequenceAndMapping] = useState({});\n\n  useEffect(()=>{\n\n    ws.addEventListener(\"open\", e=>{\n\n      ws.send(JSON.stringify(\"DataTypes\"))\n  \n     });\n  \n     ws.addEventListener(\"message\", message => {\n      setSupportedDataTypes(JSON.parse(message.data))\n\n\n  \n  \n\n})\n    },[])\n\n\n  chrome.runtime.onMessage.addListener((request, sender,sendResponse)=>{\n    \n    console.log(request)\n    setClickStream([...clickStream, request.elementDetected])\n    sendResponse(\"I have received your message\");\n  }) \n  var SiteTabId;    \n  const sendMessageToContentScript = (ToDO) => {\n          if (ToDO==\"Pause\"){\n            setPauseResume(\"Resume\")\n          }\n          else if (ToDO == \"Resume\") {\n            setPauseResume(\"Pause\")\n          }\n          else if (ToDO == \"Stop\"){\n            setShowSaveButton(true)\n          }\n\n          chrome.tabs.query({active: true}, function(tabs){\n            SiteTabId = tabs[0].id\n            chrome.tabs.sendMessage(SiteTabId, {Recording: ToDO}, function(response){\n            \n              console.log(response)\n            });\n         });\n    \n       \n\n   \n    \n  }\n\n  const SaveTheSequenceAndMapping = () => {\n\n    var keys = [];\n    for(var k in SequenceAndMapping) keys.push(k);\n    var mask = clickStream.map(item => keys.includes(item));\n    var NotMapped = clickStream.filter((item, i) => !mask[i]);\n    NotMapped.forEach(element => {\n      SequenceAndMapping[element]=\"\"\n      \n  });\n\n  console.log(SequenceAndMapping)\n\n\n\n\n\n\n   ws.addEventListener(\"open\", e=>{\n\n    ws.send(JSON.stringify(SequenceAndMapping))\n\n   });\n\n  }\n\n  function RenderItem(props) {\n    const text = props.text;\n    var eachLine = text.split(\"\\n\")\n    var FINAL_TEXT =\"\"\n    eachLine.forEach(element => {\n\n      var attribute = element.split(\"-\")[0]\n      // console.log(attribute)\n      if(allowedAttributes.includes(attribute.replace(/ /g, \"\"))){\n        FINAL_TEXT = FINAL_TEXT+element+\"\\n\"\n\n      }\n      \n    });\n\n    return <div id = \"item\">{FINAL_TEXT}</div>;\n}\n\n\n  return (\n    \n\n<>\n\n\n  <div>\n  <button id = \"Start\" onClick = {() => sendMessageToContentScript('Start')}>Start</button>\n  <br></br>\n  <button id = \"Pause\"  onClick = {() => sendMessageToContentScript(pauseResume)}>{pauseResume}</button>\n  <br></br>\n  <button id = \"Resume\" onClick = {() => sendMessageToContentScript('Stop')}>Stop</button>\n  <br></br>\n  <br></br>\n  \n  <ul>\n                {\n                clickStream.map(function(name, index){\n                    return <div key={ index }>\n                      <RenderItem text = {name}/>\n                    <br></br>\n\n                    <ControlledOpenSelect Dictionary = {SequenceAndMapping} SelectedUIControl = {name} Setter = {setSequenceAndMapping} options = {SupportedDataTypes}/>\n                    <hr></hr>\n                    <br></br>\n\n                    </div>;\n                  })}\n  </ul>\n\n\n{\nshowSaveButton?\n  <button id = \"Save\" onClick={SaveTheSequenceAndMapping}>Save</button>  \n:\n<div></div>\n}\n\n  </div>\n</>\n\n      );\n}\n\nexport default App;\n\n"]},"metadata":{},"sourceType":"module"}